webpackJsonp([36],{0:function(f,g,b){b(2640);b(1432)},1432:function(f,g){YUI.add("squarespace-image-zoom",function(b){b.namespace("Squarespace");var c=b.Squarespace.ImageZoom=b.Base.create("image-zoom",b.Base,[],{initializer:function(){this._shouldInitialize()&&(this.get("host")?this._initializeZoom():console.warn("[squarespace-image-zoom]: Missing host attribute."))},destructor:function(){this._shouldInitialize()&&(this.get("zoomedNode").remove(!0),this.get("host").removeClass(c.CSS_PREFIX).removeClass(c.CSS_PREFIX+
"--behavior-"+this.get("behavior")),this.get("dropzone").setStyle("position","").removeClass(c.CSS_PREFIX+"-dropzone"),this._zoomTriggerEvent&&this._zoomTriggerEvent.detach(),this._mouseMoveEvent&&this._mouseMoveEvent.detach(),this._mouseOutEvent&&this._mouseOutEvent.detach(),this._resizeEvent&&this._resizeEvent.detach(),this._resizeEvent=this._mouseOutEvent=this._mouseMoveEvent=this._zoomTriggerEvent=null)},_bindUI:function(){var a=this.get("host");this._zoomTriggerEvent=a.on(this.get("behavior"),
this._toggleZoom,this);this._mouseMoveEvent=a.on("mousemove",this._trackMovement,this);this._mouseOutEvent=a.on("mouseout",this._zoomOut,this);this._resizeEvent=b.one(window).on("resize",this._refresh,this)},_shouldInitialize:function(){return!b.UA.mobile&&Modernizr.csstransforms},_initializeZoom:function(){var a=this.get("host"),b=a.one("img"),d=this.get("dropzone");a.addClass(c.CSS_PREFIX);a.addClass(c.CSS_PREFIX+"--behavior-"+this.get("behavior"));d.addClass(c.CSS_PREFIX+"-dropzone");"static"===
d.getStyle("position")&&d.setStyle("position","relative");if(b.getAttribute("src"))this._appendZoomedNode(),this._bindUI();else b.once("load",function(){this._appendZoomedNode();this._bindUI()},this)},_appendZoomedNode:function(){var a=this.get("host").one("img"),e=a.getAttribute("data-src");if(!e)return console.warn("[squarespace-image-zoom]: Host image did not load properly; missing data-src."),null;var d=a.getAttribute("data-image-dimensions");d||(d=a.get("clientWidth")+"x"+a.get("clientHeight"));
(a=a.getAttribute("data-image-focal-point"))||(a="0.5,0.5");e=b.Node.create('<div class="'+c.CSS_PREFIX+'-duplicate"><img src="'+e+"?format="+this._getSquarespaceSizeForWidth()+'" data-image-dimensions="'+d+'" data-image-focal-point="'+a+'"></div>');e.setStyle("transform","scale("+this.get("zoom")+")");e.one("img").plug(b.Squarespace.Loader2,{load:!0,mode:"fill"});this.set("zoomedNode",e);this.get("dropzone").append(e)},_refresh:function(){var a=this.get("host").one("img").getAttribute("data-src"),
b=this.get("zoomedNode").one("img");b.setAttribute("src",a+"?format="+this._getSquarespaceSizeForWidth());b.fire("refresh")},_toggleZoom:function(a){this.get("_isZoomedIn")?this._zoomOut():this._zoomIn(a);a.stopPropagation()},_zoomIn:function(a){this.get("host").addClass("is-zoomed");this.set("_isZoomedIn",!0);this._trackMovement(a)},_zoomOut:function(){this.get("host").removeClass("is-zoomed");this.set("_isZoomedIn",!1)},_trackMovement:function(a){if(this.get("_isZoomedIn")){var b=Math.max(100*((a.pageX-
this.get("host").getX())/this.get("host").get("clientWidth")),0);a=Math.max(100*((a.pageY-this.get("host").getY())/this.get("host").get("clientHeight")),0);this.get("zoomedNode").setStyle("transformOrigin",b+"% "+a+"%")}},_getSquarespaceSizeForWidth:function(){var a=this.get("host").one("img").get("clientWidth");return b.Squarespace.Rendering.getSquarespaceSizeForWidth(a*this.get("zoom"))}},{CSS_PREFIX:"sqs-image-zoom",ATTRS:{host:{value:null,validator:function(a){a=b.one(a);return b.instanceOf(a,
b.Node)&&a.one("img")&&2>a.all("img").size()},writeOnce:!0},dropzone:{valueFn:function(){return this.get("host")},validator:function(a){return b.instanceOf(b.one(a),b.Node)},writeOnce:!0},behavior:{value:"hover",validator:function(a){return"hover"!==a&&"click"!==a?(console.warn("[squarespace-image-zoom]: Not a valid behavior, defaulting to hover."),!1):!0},writeOnce:!0},zoom:{value:1.5,validator:function(a){("number"!==typeof a||1>=a||5<a)&&console.warn("[squarespace-image-zoom]: Not a valid zoom value, defaulting to 1.5.");
return!0},writeOnce:!0},_isZoomedIn:{value:!1}}})},"1.0",{requires:"base event node squarespace-image-loader squarespace-rendering yui-base".split(" ")})},2640:function(f,g){YUI.add("squarespace-products-collection-item-v2",function(b){b.namespace("Squarespace.SystemCollections.Products").ItemV2=b.Base.create("systemCollectionsProductsItemV2",b.Base,[],{initializer:function(){this._syncSelectedVariantOptions();this._bindUI();this._syncUI();this.get("isLightboxEnabled")&&this._lightboxifyImages()},
destructor:function(){this._resizeEvent&&this._resizeEvent.detach();this._tweakChangeEvent&&this._tweakChangeEvent.detach();this._tweakResetEvent&&this._tweakResetEvent.detach();this._tweakCloseEvent&&this._tweakCloseEvent.detach();b.Array.each(this._selectChangeEvents,function(a){a.detach()});this._selectChangeEvents=this._tweakCloseEvent=this._tweakResetEvent=this._tweakChangeEvent=this._resizeEvent=null;this._zoomInstances&&0<this._zoomInstances.length&&this._destroyImageZoomInstances();this.get("slideshow")&&
this.get("slideshow").destroy(!0);this.get("lightbox")&&this._destroyLightbox()},_bindUI:function(){this._resizeEvent=b.on("windowresize",function(){this._syncUI()},b.config.win,this);this._tweakChangeEvent=b.Global.on("tweak:change",this._tweakChangeHandler,this);this._tweakResetEvent=b.Global.on("tweak:reset",this._syncUI,this);if(window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn())b.on("beforeunload",function(){this.destroy(!0)},this)},_syncUI:function(){this.get("isProductGallerySlideshow")||
this.get("isProductQuickView")?this.get("slideshow")?this._refreshSlideshowGallery():this._renderSlideshowGallery():this.get("isProductGalleryStacked")&&(this.get("isRenderedStackedGallery")?this._refreshStackedGallery():this._renderStackedGallery())},_tweakChangeHandler:function(a){switch(a.getName()){case "tweak-product-item-spacing":case "tweak-product-item-gallery-design":case "tweak-product-item-gallery-width":case "tweak-product-item-gallery-aspect-ratio":case "tweak-product-item-gallery-thumbnail-width":this._syncUI();
case "tweak-product-item-image-zoom-enabled":case "tweak-product-item-image-zoom-behavior":case "tweak-product-item-image-zoom-factor":this.get("isImageZoomEnabled")?this._instantiateZoom():this._destroyImageZoomInstances();case "tweak-product-item-lightbox-enabled":case "tweak-product-item-image-zoom-behavior":this.get("isLightboxEnabled")?this._lightboxifyImages():this.get("lightbox")&&this._destroyLightbox()}},_syncSelectedVariantOptions:function(){this._selectChangeEvents=[];this.get("host").all(".variant-option").each(function(a){var b=
a.one(".variant-select-wrapper"),d=a.one("select"),c=d.one("option").get("text");b.setAttribute("data-text",c);this._selectChangeEvents.push(a.delegate("change",function(a){a=d.get("value");b.setAttribute("data-text",""===a?c:a)},"select"))},this)},_renderSlideshowGallery:function(){this.get("isRenderedStackedGallery")&&this.set("isRenderedStackedGallery",!1);this.get("isImageZoomEnabled")&&this._instantiateZoom();this.get("isProductQuickView")&&(b.one("body").removeClass("tweak-product-item-gallery-design-stacked"),
b.one("body").addClass("tweak-product-item-gallery-design-slideshow"));this._instantiateSlideshow()},_instantiateSlideshow:function(){1>this.get("images").size()||(this.set("slideshow",new b.Squarespace.Gallery2({container:this.get("slideContainer"),elements:{controls:this.get("thumbnailContainer")},loop:!0,design:"stacked",designOptions:{autoHeight:!1,clickBehavior:!1},loaderOptions:{mode:"fill"}})),this._loadSlideshowThumbnails())},_loadSlideshowThumbnails:function(){1<this.get("images").size()&&
this.get("thumbnails").each(function(a){a.plug(b.Squarespace.Loader2,{load:!0,mode:"fill"})})},_refreshSlideshowGallery:function(){this.get("slideshow").refresh();this.get("thumbnails").each(function(a){a.fire("refresh")})},_destroySlideshowAndResetImageStyles:function(){this.get("slideshow").destroy(!0);this.get("images").each(function(a){a.setStyles({position:"",top:"",left:"",right:"",bottom:"",zIndex:"",width:"",height:"",overflow:""})})},_renderStackedGallery:function(){this.get("slideshow")&&
(this._destroySlideshowAndResetImageStyles(),this.set("slideshow",null));this.get("isImageZoomEnabled")&&this._instantiateZoom();this.get("images").each(function(a){a.plug(b.Squarespace.Loader2,{load:!0,mode:null})});this.set("isRenderedStackedGallery",!0)},_refreshStackedGallery:function(){this.get("images").each(function(a){a.fire("refresh")})},_lightboxifyImages:function(){if(!(1>this.get("images").size()||this.get("isProductQuickView"))){var a=[];this.get("images").each(function(b){a.push({content:b})});
var c=1<this.get("images").size();this._imageClickEvent=this.get("slideContainer").delegate("click",function(d){this.set("lightbox",new b.Squarespace.Lightbox2({controls:{previous:c,next:c},set:a,currentSetIndex:parseInt(d.currentTarget.getAttribute("data-slide-index"),10)-1}));this.get("lightbox").render()},".ProductItem-gallery-slides-item",this)}},_destroyLightbox:function(){this.get("lightbox").destroy(!0);this.set("lightbox",null);this._imageClickEvent.detach();this._imageClickEvent=null},_instantiateZoom:function(){this._destroyImageZoomInstances();
this._zoomInstances=[];this.get("images").each(function(a){this._zoomInstances.push(new b.Squarespace.ImageZoom({host:a.get("parentNode"),behavior:this.get("isImageZoomBehaviorClick")?"click":"hover",zoom:this.get("imageZoomFactor")}))},this)},_destroyImageZoomInstances:function(){this._zoomInstances&&!(1>this._zoomInstances.length)&&(b.Array.each(this._zoomInstances,function(a){a.destroy(!0)}),this._zoomInstances=null)}},{ATTRS:{host:{value:null,validator:function(a){a=b.one(a);return b.instanceOf(a,
b.Node)},writeOnce:!0},slideContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-slides")}},thumbnailContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-thumbnails")}},images:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-slides-item-image")}},thumbnails:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-thumbnails-item-image")}},isProductQuickView:{valueFn:function(){return this.get("host").ancestor(".sqs-product-quick-view-lightbox")}},
isImageZoomEnabled:{getter:function(){return b.one(".tweak-product-item-image-zoom-enabled")}},isImageZoomBehaviorClick:{getter:function(){return b.one(".tweak-product-item-image-zoom-behavior-click")}},imageZoomFactor:{getter:function(){return parseFloat(b.Squarespace.Template.getTweakValue("tweak-product-item-image-zoom-factor"))}},isLightboxEnabled:{getter:function(){return b.one(".tweak-product-item-lightbox-enabled")&&!this.get("isImageZoomBehaviorClick")}},isProductGallerySlideshow:{getter:function(){return b.one(".tweak-product-item-gallery-design-slideshow")}},
isProductGalleryStacked:{getter:function(){return b.one(".tweak-product-item-gallery-design-stacked")}}}});var c;b.config.win.Squarespace.onInitialize(b,function(){c=[];b.all(".ProductItem.products-collection-v2").each(function(a){if(a.get("parentNode").hasClass("sqs-product-quick-view-content"))return!1;a.one(".ProductItem-details .sqs-add-to-cart-button").removeClass("sqs-editable-button");c.push(new b.Squarespace.SystemCollections.Products.ItemV2({host:a}))})});b.config.win.Squarespace.onDestroy(b,
function(){c.forEach(function(a){a.destroy()});c=null})},"1.0",{requires:"base node squarespace-beforeunload squarespace-gallery-ng squarespace-image-loader squarespace-image-zoom squarespace-public-api squarespace-widgets-lightbox2".split(" ")})}});
